(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[308],{6534:function(e,t,n){"use strict";n.d(t,{Z:function(){return d}});var r=n(5675),a=n.n(r),s=n(1664),c=n.n(s),o=n(9252),i=n(1795);o.Z.addLocale(i.Z);var l=new o.Z("en-US"),u=n(5893);function d(e){var t=e.tweet,n=e.nolink;return(0,u.jsxs)("div",{className:"mb-4",children:[(0,u.jsx)("div",{className:"flex flex-shrink-0 p-4 pb-0",children:(0,u.jsx)("div",{className:"flex-shrink-0 block group",children:(0,u.jsxs)("div",{className:"flex items-center",children:[(0,u.jsx)("div",{children:t.author.image&&(0,u.jsx)(a(),{className:"rounded-full",src:t.author.image,alt:"",width:"40",height:"40"})}),(0,u.jsx)("div",{className:"ml-3 -mt-6",children:(0,u.jsxs)("p",{className:"",children:[(0,u.jsx)(c(),{href:"/".concat(t.author.name),children:(0,u.jsx)("a",{children:(0,u.jsx)("span",{className:"text-base font-medium leading-6 color-primary hover:underline",children:t.author.name})})}),(0,u.jsx)("span",{className:"pl-1 text-sm font-light leading-5 color-dimmed",children:n?(0,u.jsx)("span",{children:l.format(new Date(t.createdAt),"twitter")}):(0,u.jsx)(c(),{href:"/".concat(t.author.name,"/status/").concat(t.id),children:(0,u.jsx)("a",{className:"hover:underline",children:l.format(new Date(t.createdAt),"twitter")})})})]})})]})})}),(0,u.jsx)("div",{className:"pl-16 -mt-6",children:(0,u.jsx)("p",{className:"flex-shrink pl-1 pr-2 text-base font-normal color-primary width-auto",children:t.content})})]})}},8392:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(6534),a=n(5893);function s(e){var t=e.tweets,n=e.nolink;return t?(0,a.jsx)(a.Fragment,{children:t.map((function(e,t){return(0,a.jsx)(r.Z,{tweet:e,nolink:n},t)}))}):(0,a.jsx)("p",{children:"No Tweet"})}},5539:function(e,t,n){"use strict";n.r(t),n.d(t,{__N_SSP:function(){return f},default:function(){return m}});var r=n(29),a=n(7794),s=n.n(a),c=n(6534),o=n(8392),i=n(3299),l=n(1163),u=n(7294),d=n(5893);function h(e){var t=e.tweet,n=(0,l.useRouter)(),a=(0,u.useState)(""),c=a[0],o=a[1];return(0,d.jsxs)("form",{className:"flex ml-2",onSubmit:function(){var e=(0,r.Z)(s().mark((function e(r){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.preventDefault(),c){e.next=4;break}return alert("Enter some text in the reply"),e.abrupt("return");case 4:return e.next=6,fetch("/api/tweet",{body:JSON.stringify({parent:t.id,content:c}),headers:{"Content-Type":"application/json"},method:"POST"});case 6:e.sent,n.reload(window.location.pathname);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),children:[(0,d.jsx)("textarea",{className:"border p-4 w-full text-lg font-medium bg-transparent outline-none color-primary ",rows:1,cols:50,placeholder:"Tweet your reply",onChange:function(e){return o(e.target.value)}}),(0,d.jsx)("div",{className:"flex",children:(0,d.jsx)("div",{className:"flex-1 mb-5",children:(0,d.jsx)("button",{className:"border float-right ml-2 px-8 py-2 mt-0 mr-8 font-bold rounded-full color-accent-contrast bg-color-accent hover:bg-color-accent-hover",children:"Reply"})})})]})}var f=!0;function m(e){var t=e.tweet,n=e.replies,a=(0,i.useSession)(),u=a.data,f=(a.status,(0,l.useRouter)());return t.parent&&f.push("/".concat(t.parent_data.author.name,"/status/").concat(t.parent)),(0,d.jsxs)("div",{children:[(0,d.jsx)(c.Z,{tweet:t}),u&&u.user.email===t.author.email&&(0,d.jsx)("div",{className:"flex-1 py-2 m-2 text-center",children:(0,d.jsx)("a",{href:"#",className:"flex items-center w-12 px-3 py-2 mt-1 text-base font-medium leading-6 text-gray-500 rounded-full hover:bg-color-accent-hover hover:color-accent-hover",onClick:(0,r.Z)(s().mark((function e(){var n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/tweet",{body:JSON.stringify({id:t.id}),headers:{"Content-Type":"application/json"},method:"DELETE"});case 2:401===(n=e.sent).status&&alert("Unauthorized"),200===n.status&&f.push("/home");case 5:case"end":return e.stop()}}),e)}))),children:"delete"})}),(0,d.jsx)(h,{tweet:t}),(0,d.jsx)(o.Z,{tweets:n,nolink:!0})]})}},4204:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/[name]/status/[id]",function(){return n(5539)}])},1163:function(e,t,n){e.exports=n(1587)},29:function(e,t,n){"use strict";function r(e,t,n,r,a,s,c){try{var o=e[s](c),i=o.value}catch(l){return void n(l)}o.done?t(i):Promise.resolve(i).then(r,a)}function a(e){return function(){var t=this,n=arguments;return new Promise((function(a,s){var c=e.apply(t,n);function o(e){r(c,a,s,o,i,"next",e)}function i(e){r(c,a,s,o,i,"throw",e)}o(void 0)}))}}n.d(t,{Z:function(){return a}})}},function(e){e.O(0,[531,774,888,179],(function(){return t=4204,e(e.s=t);var t}));var t=e.O();_N_E=t}]);